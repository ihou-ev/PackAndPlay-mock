<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#667eea">
  <meta name="description" content="配信者専用カードパック販売プラットフォーム">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Pack&Play">
  <title>承認待ちキュー - Pack&Play</title>
  <!-- コンポーネントベースCSS -->
  <link rel="stylesheet" href="../css/app.css">
  <link rel="stylesheet" href="../css/pages/dashboard/redemptions.css">
  <link rel="manifest" href="../manifest.json">
  <link rel="icon" type="image/png" sizes="192x192" href="../assets/images/icon-192.png">
  <link rel="apple-touch-icon" href="../assets/images/icon-192.png">
<body>
  <!-- ヘッダー -->
  <header>
    <nav class="navbar container">
      <a href="../index.html" class="logo">
        🎴 Pack&Play
      </a>
      <ul class="nav-links">
        <!-- JavaScriptで動的に生成 -->
      </ul>
    </nav>
  </header>

  <!-- メインコンテンツ -->
  <main>
    <section class="page-header">
      <div class="container">
        <div class="flex-between">
          <div>
            <h1 class="page-title">承認待ちキュー</h1>
            <p class="page-description">視聴者が使用したカードの承認・却下を行います</p>
          </div>
          <div class="flex gap-2">
            <span class="badge badge-live" style="font-size: 1rem; padding: 0.5rem 1rem;">
              <span id="pendingCount">2</span>件の承認待ち
            </span>
          </div>
        </div>
      </div>
    </section>

    <section style="padding: 3rem 0;">
      <div class="container">
        <!-- フィルター -->
        <div class="flex gap-2 mb-4">
          <button class="btn btn-sm btn-outline" onclick="filterRedemptions('all')">すべて</button>
          <button class="btn btn-sm btn-primary" onclick="filterRedemptions('pending')">承認待ち</button>
          <button class="btn btn-sm btn-outline" onclick="filterRedemptions('approved')">承認済み</button>
          <button class="btn btn-sm btn-outline" onclick="filterRedemptions('rejected')">却下</button>
        </div>

        <!-- 承認待ちリスト -->
        <div id="redemptionsList">
          <!-- JavaScriptで動的に生成 -->
        </div>

        <div id="emptyState" class="empty-state hidden">
          <div class="empty-state-icon">✅</div>
          <div class="empty-state-text">承認待ちのカードはありません</div>
        </div>
      </div>
    </section>
  </main>

  <!-- 却下理由モーダル -->
  <div id="rejectModal" class="modal-overlay" style="display: none;">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title">却下理由</h2>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 1rem;">このカード使用を却下しますか？</p>
        <div class="form-group">
          <label class="form-label">却下理由（任意）</label>
          <textarea id="rejectReason" class="form-textarea" placeholder="却下理由を入力..."></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" data-close-modal="rejectModal">キャンセル</button>
        <button class="btn btn-danger" onclick="submitReject()">却下する</button>
      </div>
    </div>
  </div>

  <!-- フッター -->
  <footer style="background: var(--surface); border-top: 1px solid var(--border); padding: 2rem 0; margin-top: 4rem;">
    <div class="container">
      <div class="flex-between">
        <div>
          <div class="logo mb-2">🎴 Pack&Play</div>
          <p style="color: var(--text-light); font-size: 0.875rem;">
            © 2025 Pack&Play. All rights reserved.
          </p>
        </div>
        <div class="flex gap-3">
          <a href="#" style="color: var(--text-light); text-decoration: none;">利用規約</a>
          <a href="#" style="color: var(--text-light); text-decoration: none;">プライバシーポリシー</a>
          <a href="#" style="color: var(--text-light); text-decoration: none;">特商法表記</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- コンポーネントベースJavaScript -->
  <script src="../js/services/storage.js"></script>
  <script src="../js/core/utils.js"></script>
  <script src="../js/components/modal.js"></script>
  <script src="../js/components/toast.js"></script>
  <script src="../js/mock-data.js"></script>
  <script src="../js/main.js"></script>
  <script src="../js/pages/dashboard/redemptions.js"></script>
</body>
</html>
