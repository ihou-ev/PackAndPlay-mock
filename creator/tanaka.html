<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#667eea">
  <meta name="description" content="ÈÖç‰ø°ËÄÖÂ∞ÇÁî®„Ç´„Éº„Éâ„Éë„ÉÉ„ÇØË≤©Â£≤„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Pack&Play">
  <title>Áî∞‰∏≠Â§™ÈÉé - Pack&Play</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="manifest" href="../manifest.json">
  <link rel="icon" type="image/png" sizes="192x192" href="../assets/images/icon-192.png">
  <link rel="apple-touch-icon" href="../assets/images/icon-192.png">
  <style>
    :root {
      --stream-header-height: 56px;
      --action-panel-height: 280px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: #f9fafb;
      overflow-x: hidden;
    }

    /* „Çπ„Éà„É™„Éº„É†„Éò„ÉÉ„ÉÄ„Éº */
    .stream-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--stream-header-height);
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 1rem;
      z-index: 1000;
    }

    .stream-header-left {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .back-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: none;
      background: transparent;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
      padding: 0;
    }

    .back-button:hover {
      background: #f3f4f6;
    }

    .back-button svg {
      width: 24px;
      height: 24px;
    }

    .creator-mini-info {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .creator-mini-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 0.875rem;
    }

    .creator-mini-name {
      font-weight: 700;
      font-size: 0.9375rem;
      color: #2d1b3d;
    }

    .follow-button {
      padding: 0.5rem 1.25rem;
      border-radius: 9999px;
      border: none;
      background: #FF1B8D;
      color: white;
      font-weight: 700;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .follow-button:hover {
      background: #e01677;
      transform: translateY(-1px);
    }

    .follow-button.following {
      background: white;
      color: #6b7280;
      border: 1px solid #d1d5db;
    }

    .follow-button.following:hover {
      background: #fef2f2;
      color: #ef4444;
      border-color: #fecaca;
    }

    /* ÈÖç‰ø°„Éó„É¨„Ç§„É§„Éº */
    .stream-container {
      margin-top: var(--stream-header-height);
      background: #000;
      position: relative;
    }

    .stream-player-wrapper {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      background: #000;
    }

    .stream-player {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .stream-offline {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      gap: 1rem;
    }

    .stream-offline-icon {
      font-size: 4rem;
    }

    .stream-offline-text {
      font-size: 1.25rem;
      font-weight: 700;
    }

    /* ÈÖç‰ø°ÊÉÖÂ†±„Éê„Éº */
    .stream-info-bar {
      background: white;
      padding: 1rem;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .stream-info-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .live-badge {
      background: #ef4444;
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 0.375rem;
      font-weight: 700;
      font-size: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.375rem;
    }

    .live-badge::before {
      content: '';
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: white;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    .viewer-count {
      color: #6b7280;
      font-size: 0.875rem;
      font-weight: 600;
    }

    .stream-duration {
      color: #6b7280;
      font-size: 0.875rem;
      font-weight: 600;
    }

    /* „Ç¢„ÇØ„Ç∑„Éß„É≥„Éë„Éç„É´ */
    .action-panel {
      background: white;
      border-bottom: 1px solid #e5e7eb;
    }

    .action-tabs {
      display: flex;
      border-bottom: 1px solid #e5e7eb;
    }

    .action-tab {
      flex: 1;
      padding: 1rem;
      background: transparent;
      border: none;
      border-bottom: 2px solid transparent;
      font-weight: 600;
      font-size: 0.9375rem;
      color: #6b7280;
      cursor: pointer;
      transition: all 0.2s;
    }

    .action-tab:hover {
      background: #f9fafb;
    }

    .action-tab.active {
      color: #FF1B8D;
      border-bottom-color: #FF1B8D;
    }

    .action-content {
      display: none;
      padding: 1rem;
      max-height: 400px;
      overflow-y: auto;
    }

    .action-content.active {
      display: block;
    }

    /* „Ç´„Éº„Éâ„Ç∞„É™„ÉÉ„Éâ */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 0.75rem;
    }

    .card-item {
      background: white;
      border: 2px solid #e5e7eb;
      border-radius: 0.75rem;
      padding: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }

    .card-item:hover {
      border-color: #FF1B8D;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 27, 141, 0.15);
    }

    .card-item.selected {
      border-color: #FF1B8D;
      background: #fef2f8;
    }

    .card-icon {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .card-name {
      font-weight: 600;
      font-size: 0.8125rem;
      color: #2d1b3d;
      margin-bottom: 0.25rem;
    }

    .card-price {
      color: #FF1B8D;
      font-weight: 700;
      font-size: 0.875rem;
    }

    /* „Çπ„Éó„É©„ÉÉ„Ç∑„É•„Ç™„Éó„Ç∑„Éß„É≥ */
    .splash-options {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .splash-option {
      background: white;
      border: 2px solid #e5e7eb;
      border-radius: 0.75rem;
      padding: 1rem 0.5rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }

    .splash-option:hover {
      border-color: #FF1B8D;
      transform: translateY(-2px);
    }

    .splash-option.selected {
      border-color: #FF1B8D;
      background: #fef2f8;
    }

    .splash-amount {
      font-weight: 700;
      font-size: 1.25rem;
      color: #2d1b3d;
      margin-bottom: 0.25rem;
    }

    .splash-label {
      color: #6b7280;
      font-size: 0.75rem;
    }

    .message-input {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid #e5e7eb;
      border-radius: 0.75rem;
      font-size: 0.9375rem;
      resize: vertical;
      min-height: 80px;
      font-family: inherit;
      margin-bottom: 1rem;
    }

    .message-input:focus {
      outline: none;
      border-color: #FF1B8D;
    }

    .send-button {
      width: 100%;
      padding: 1rem;
      border-radius: 0.75rem;
      border: none;
      background: #FF1B8D;
      color: white;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .send-button:hover {
      background: #e01677;
      transform: translateY(-1px);
    }

    .send-button:disabled {
      background: #d1d5db;
      cursor: not-allowed;
      transform: none;
    }

    /* „Éë„ÉÉ„ÇØ„Çª„ÇØ„Ç∑„Éß„É≥ */
    .packs-section {
      padding: 2rem 1rem;
      background: #f9fafb;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-size: 1.25rem;
      font-weight: 800;
      color: #2d1b3d;
      margin: 0;
    }

    .packs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
    }

    .pack-card {
      background: white;
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      transition: all 0.2s;
      cursor: pointer;
    }

    .pack-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    }

    .pack-image {
      aspect-ratio: 16 / 9;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4rem;
    }

    .pack-content {
      padding: 1.25rem;
    }

    .pack-name {
      font-size: 1.125rem;
      font-weight: 700;
      color: #2d1b3d;
      margin-bottom: 0.5rem;
    }

    .pack-description {
      color: #6b7280;
      font-size: 0.875rem;
      margin-bottom: 1rem;
      line-height: 1.5;
    }

    .pack-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .pack-price {
      font-size: 1.5rem;
      font-weight: 800;
      color: #2d1b3d;
    }

    .buy-button {
      padding: 0.625rem 1.5rem;
      border-radius: 0.75rem;
      border: none;
      background: #FF1B8D;
      color: white;
      font-weight: 700;
      font-size: 0.9375rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .buy-button:hover {
      background: #e01677;
      transform: translateY(-1px);
    }

    /* „É¢„Éê„Ç§„É´ÊúÄÈÅ©Âåñ */
    @media (max-width: 768px) {
      .packs-grid {
        grid-template-columns: 1fr;
      }

      .stream-info-bar {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
      }

      .stream-info-left {
        width: 100%;
        justify-content: space-between;
      }
    }

    /* „Çπ„É†„Éº„Çπ„Çπ„ÇØ„É≠„Éº„É´ */
    html {
      scroll-behavior: smooth;
    }

    /* „Çø„ÉÉ„ÉÅ„Éï„É¨„É≥„Éâ„É™„Éº */
    button, .card-item, .splash-option, .pack-card {
      -webkit-tap-highlight-color: transparent;
    }
  </style>
</head>
<body>
  <!-- „Çπ„Éà„É™„Éº„É†„Éò„ÉÉ„ÉÄ„Éº -->
  <header class="stream-header">
    <div class="stream-header-left">
      <button class="back-button" onclick="history.back()">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7"></path>
        </svg>
      </button>
      <div class="creator-mini-info">
        <div class="creator-mini-avatar" id="miniAvatar">Áî∞</div>
        <div class="creator-mini-name" id="miniName">Áî∞‰∏≠Â§™ÈÉé</div>
      </div>
    </div>
    <button class="follow-button" id="followButton" onclick="toggleFollowCreator()">
      „Éï„Ç©„É≠„Éº„Åô„Çã
    </button>
  </header>

  <!-- ÈÖç‰ø°„Éó„É¨„Ç§„É§„Éº -->
  <div class="stream-container">
    <div class="stream-player-wrapper">
      <!-- ÈÖç‰ø°‰∏≠„ÅÆÂ†¥Âêà„ÅØiframe„ÇíË°®Á§∫ -->
      <iframe
        id="streamPlayer"
        class="stream-player"
        src=""
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
        style="display: none;">
      </iframe>

      <!-- ÈÖç‰ø°„Åó„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà -->
      <div class="stream-offline" id="streamOffline">
        <div class="stream-offline-icon">üì∫</div>
        <div class="stream-offline-text">ÁèæÂú®ÈÖç‰ø°„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì</div>
      </div>
    </div>
  </div>

  <!-- ÈÖç‰ø°ÊÉÖÂ†±„Éê„Éº -->
  <div class="stream-info-bar" id="streamInfoBar" style="display: none;">
    <div class="stream-info-left">
      <div class="live-badge">LIVE</div>
      <div class="viewer-count" id="viewerCount">1,234 ‰∫∫„ÅåË¶ñËÅ¥‰∏≠</div>
    </div>
    <div class="stream-duration" id="streamDuration">2:34:15</div>
  </div>

  <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éë„Éç„É´ -->
  <div class="action-panel">
    <div class="action-tabs">
      <button class="action-tab active" onclick="switchActionTab('cards')">„Ç´„Éº„Éâ</button>
      <button class="action-tab" onclick="switchActionTab('splash')">„Çπ„Éó„É©„ÉÉ„Ç∑„É•</button>
    </div>

    <!-- „Ç´„Éº„Éâ„Çø„Éñ -->
    <div class="action-content active" id="cardsContent">
      <div class="cards-grid" id="cardsGrid">
        <!-- JavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê -->
      </div>
    </div>

    <!-- „Çπ„Éó„É©„ÉÉ„Ç∑„É•„Çø„Éñ -->
    <div class="action-content" id="splashContent">
      <div class="splash-options" id="splashOptions">
        <!-- JavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê -->
      </div>
      <textarea
        class="message-input"
        id="splashMessage"
        placeholder="„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ...Ôºà‰ªªÊÑèÔºâ"
        maxlength="200"></textarea>
      <button class="send-button" id="sendSplashButton" onclick="sendSplash()" disabled>
        „Çπ„Éó„É©„ÉÉ„Ç∑„É•„ÇíÈÄÅ„Çã
      </button>
    </div>
  </div>

  <!-- „Éë„ÉÉ„ÇØ„Çª„ÇØ„Ç∑„Éß„É≥ -->
  <section class="packs-section">
    <div class="section-header">
      <h2 class="section-title">„Ç´„Éº„Éâ„Éë„ÉÉ„ÇØ</h2>
    </div>
    <div class="packs-grid" id="packsGrid">
      <!-- JavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê -->
    </div>
  </section>

  <script src="../js/mock-data.js"></script>
  <script src="../js/main.js"></script>
  <script>
    // ÈÖç‰ø°ËÄÖÊÉÖÂ†±„ÇíÂèñÂæó
    const creatorSlug = 'tanaka';
    const creator = getCreatorBySlug(creatorSlug);
    const creatorPacks = getPacksByCreator(creatorSlug);

    // „Éï„Ç©„É≠„ÉºÁä∂ÊÖã„ÇíÁ¢∫Ë™ç
    function checkFollowStatus() {
      const followedIds = getFollowedCreators();
      const isFollowing = followedIds.includes(creator.id);
      const followButton = document.getElementById('followButton');

      if (isFollowing) {
        followButton.textContent = '„Éï„Ç©„É≠„Éº‰∏≠';
        followButton.classList.add('following');
      } else {
        followButton.textContent = '„Éï„Ç©„É≠„Éº„Åô„Çã';
        followButton.classList.remove('following');
      }
    }

    // „Éï„Ç©„É≠„ÉºÂàá„ÇäÊõø„Åà
    function toggleFollowCreator() {
      toggleFollow(creator.id);
      checkFollowStatus();
    }

    // ÈÖç‰ø°„Éó„É¨„Ç§„É§„Éº„ÅÆË®≠ÂÆö
    function setupStreamPlayer() {
      const player = document.getElementById('streamPlayer');
      const offline = document.getElementById('streamOffline');
      const infoBar = document.getElementById('streamInfoBar');

      if (creator.isLive && creator.streamUrl) {
        // ÈÖç‰ø°‰∏≠„ÅÆÂ†¥Âêà
        player.src = creator.streamUrl;
        player.style.display = 'block';
        offline.style.display = 'none';
        infoBar.style.display = 'flex';

        // Ë¶ñËÅ¥ËÄÖÊï∞„Å®ÈÖç‰ø°ÊôÇÈñì„ÇíÊõ¥Êñ∞Ôºà„É¢„ÉÉ„ÇØ„Éá„Éº„ÇøÔºâ
        updateStreamInfo();
      } else {
        // ÈÖç‰ø°„Åó„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà
        player.style.display = 'none';
        offline.style.display = 'flex';
        infoBar.style.display = 'none';
      }
    }

    // ÈÖç‰ø°ÊÉÖÂ†±„ÇíÊõ¥Êñ∞
    function updateStreamInfo() {
      const viewerCount = document.getElementById('viewerCount');
      const streamDuration = document.getElementById('streamDuration');

      // „É¢„ÉÉ„ÇØ„Éá„Éº„Çø
      viewerCount.textContent = `${Math.floor(Math.random() * 5000) + 500} ‰∫∫„ÅåË¶ñËÅ¥‰∏≠`;

      // ÈÖç‰ø°ÊôÇÈñì„Çí„Ç∑„Éü„É•„É¨„Éº„Éà
      let seconds = Math.floor(Math.random() * 10000);
      setInterval(() => {
        seconds++;
        const hours = Math.floor(seconds / 3600);
        const minutes = Math.floor((seconds % 3600) / 60);
        const secs = seconds % 60;
        streamDuration.textContent = `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
      }, 1000);
    }

    // „Ç´„Éº„Éâ„ÇíË°®Á§∫
    function renderCards() {
      const grid = document.getElementById('cardsGrid');

      // „É¢„ÉÉ„ÇØ„Ç´„Éº„Éâ„Éá„Éº„Çø
      const cards = [
        { id: 1, name: '„ÅÑ„ÅÑ„Å≠', icon: 'üëç', price: 100 },
        { id: 2, name: '„Éè„Éº„Éà', icon: '‚ù§Ô∏è', price: 200 },
        { id: 3, name: 'ÊãçÊâã', icon: 'üëè', price: 150 },
        { id: 4, name: 'ÂøúÊè¥', icon: 'üì£', price: 300 },
        { id: 5, name: 'Ëä±ÁÅ´', icon: 'üéÜ', price: 500 },
        { id: 6, name: '„ÇÆ„Éï„Éà', icon: 'üéÅ', price: 1000 }
      ];

      grid.innerHTML = cards.map(card => `
        <div class="card-item" onclick="selectCard(${card.id})">
          <div class="card-icon">${card.icon}</div>
          <div class="card-name">${card.name}</div>
          <div class="card-price">¬•${card.price}</div>
        </div>
      `).join('');
    }

    let selectedCard = null;

    function selectCard(cardId) {
      selectedCard = cardId;

      // ÈÅ∏ÊäûÁä∂ÊÖã„ÇíÊõ¥Êñ∞
      document.querySelectorAll('.card-item').forEach(item => {
        item.classList.remove('selected');
      });
      event.currentTarget.classList.add('selected');

      // ÂÆüÈöõ„ÅÆ„Ç¢„Éó„É™„Åß„ÅØË≥ºÂÖ•Âá¶ÁêÜ„ÇíÂÆüË£Ö
      alert('„Ç´„Éº„Éâ„ÅåÈÅ∏Êäû„Åï„Çå„Åæ„Åó„ÅüÔºÅÂÆüÈöõ„ÅÆ„Ç¢„Éó„É™„Åß„ÅØË≥ºÂÖ•Âá¶ÁêÜ„ÅåÂÆüË°å„Åï„Çå„Åæ„Åô„ÄÇ');
    }

    // „Çπ„Éó„É©„ÉÉ„Ç∑„É•„Ç™„Éó„Ç∑„Éß„É≥„ÇíË°®Á§∫
    function renderSplashOptions() {
      const options = document.getElementById('splashOptions');

      const splashAmounts = [
        { amount: 100, label: '„Çπ„Éë„Éº„ÇØ' },
        { amount: 500, label: '„Çπ„Éë„Éº„ÇØ' },
        { amount: 1000, label: '„Çπ„Éë„Éº„ÇØ' },
        { amount: 2000, label: '„Çπ„Éë„Éº„ÇØ' },
        { amount: 5000, label: '„Çπ„Éë„Éº„ÇØ' },
        { amount: 10000, label: '„Çπ„Éë„Éº„ÇØ' }
      ];

      options.innerHTML = splashAmounts.map((opt, index) => `
        <div class="splash-option" onclick="selectSplash(${opt.amount}, ${index})">
          <div class="splash-amount">¬•${opt.amount.toLocaleString()}</div>
          <div class="splash-label">${opt.label}</div>
        </div>
      `).join('');
    }

    let selectedSplashAmount = null;

    function selectSplash(amount, index) {
      selectedSplashAmount = amount;

      // ÈÅ∏ÊäûÁä∂ÊÖã„ÇíÊõ¥Êñ∞
      document.querySelectorAll('.splash-option').forEach(item => {
        item.classList.remove('selected');
      });
      document.querySelectorAll('.splash-option')[index].classList.add('selected');

      // „Éú„Çø„É≥„ÇíÊúâÂäπÂåñ
      document.getElementById('sendSplashButton').disabled = false;
    }

    function sendSplash() {
      const message = document.getElementById('splashMessage').value;

      if (!selectedSplashAmount) {
        alert('„Çπ„Éó„É©„ÉÉ„Ç∑„É•„ÅÆÈáëÈ°ç„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
        return;
      }

      // ÂÆüÈöõ„ÅÆ„Ç¢„Éó„É™„Åß„ÅØÊ±∫Ê∏àÂá¶ÁêÜ„ÇíÂÆüË£Ö
      alert(`¬•${selectedSplashAmount.toLocaleString()} „ÅÆ„Çπ„Éó„É©„ÉÉ„Ç∑„É•„ÇíÈÄÅ‰ø°„Åó„Åæ„Åó„ÅüÔºÅ\n„É°„ÉÉ„Çª„Éº„Ç∏: ${message || '„Å™„Åó'}`);

      // „É™„Çª„ÉÉ„Éà
      selectedSplashAmount = null;
      document.getElementById('splashMessage').value = '';
      document.getElementById('sendSplashButton').disabled = true;
      document.querySelectorAll('.splash-option').forEach(item => {
        item.classList.remove('selected');
      });
    }

    // „Çø„ÉñÂàá„ÇäÊõø„Åà
    function switchActionTab(tab) {
      // „Çø„Éñ„Éú„Çø„É≥„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
      document.querySelectorAll('.action-tab').forEach(btn => {
        btn.classList.remove('active');
      });
      event.currentTarget.classList.add('active');

      // „Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅÆË°®Á§∫„ÇíÂàá„ÇäÊõø„Åà
      document.querySelectorAll('.action-content').forEach(content => {
        content.classList.remove('active');
      });

      if (tab === 'cards') {
        document.getElementById('cardsContent').classList.add('active');
      } else if (tab === 'splash') {
        document.getElementById('splashContent').classList.add('active');
      }
    }

    // „Éë„ÉÉ„ÇØ„ÇíË°®Á§∫
    function renderPacks() {
      const grid = document.getElementById('packsGrid');

      if (creatorPacks.length === 0) {
        grid.innerHTML = `
          <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: #9ca3af;">
            üì¶ „Éë„ÉÉ„ÇØ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì
          </div>
        `;
        return;
      }

      grid.innerHTML = creatorPacks.map(pack => `
        <div class="pack-card" onclick="viewPack(${pack.id})">
          <div class="pack-image">üì¶</div>
          <div class="pack-content">
            <div class="pack-name">${pack.name}</div>
            <p class="pack-description">${pack.description}</p>
            <div class="pack-footer">
              <div class="pack-price">¬•${pack.price.toLocaleString()}</div>
              <button class="buy-button" onclick="event.stopPropagation(); purchasePack(${pack.id})">
                Ë≥ºÂÖ•„Åô„Çã
              </button>
            </div>
          </div>
        </div>
      `).join('');
    }

    function viewPack(packId) {
      window.location.href = `../packs/pack-detail.html?id=${packId}`;
    }

    function purchasePack(packId) {
      // ÂÆüÈöõ„ÅÆ„Ç¢„Éó„É™„Åß„ÅØÊ±∫Ê∏àÂá¶ÁêÜ„ÇíÂÆüË£Ö
      if (confirm('„Åì„ÅÆ„Éë„ÉÉ„ÇØ„ÇíË≥ºÂÖ•„Åó„Åæ„Åô„ÅãÔºü')) {
        alert('Ë≥ºÂÖ•Âá¶ÁêÜ„ÇíÈñãÂßã„Åó„Åæ„Åô...');
        // Ë≥ºÂÖ•Âæå„ÅØpack-open.html„Å∏ÈÅ∑Áßª
        setTimeout(() => {
          window.location.href = `../packs/pack-open.html?id=${packId}`;
        }, 1000);
      }
    }

    // ÂàùÊúüÂåñ
    function init() {
      checkFollowStatus();
      setupStreamPlayer();
      renderCards();
      renderSplashOptions();
      renderPacks();
    }

    // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´ÂàùÊúüÂåñ
    init();
  </script>
</body>
</html>
