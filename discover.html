<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#667eea">
  <meta name="description" content="ÈÖç‰ø°ËÄÖÂ∞ÇÁî®„Ç´„Éº„Éâ„Éë„ÉÉ„ÇØË≤©Â£≤„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Pack&Play">
  <title>Pack&Play - ÈÖç‰ø°ËÄÖ„ÇíÊé¢„Åô</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/images/icon-192.png">
  <link rel="apple-touch-icon" href="assets/images/icon-192.png">
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
      overflow-x: hidden;
      display: flex;
      background: #f9fafb;
    }

    /* „Çµ„Ç§„Éâ„Éê„Éº */
    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 240px;
      background: #2d1b3d;
      padding: 2rem 0;
      display: flex;
      flex-direction: column;
      z-index: 100;
      overflow-y: auto;
    }

    .sidebar-logo {
      font-size: 1.5rem;
      font-weight: 800;
      color: white;
      text-decoration: none;
      padding: 0 1.5rem;
      margin-bottom: 2rem;
      display: block;
    }

    .sidebar-nav {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      padding: 0 1rem;
    }

    .sidebar-nav-item {
      color: rgba(255, 255, 255, 0.7);
      text-decoration: none;
      padding: 0.75rem 1rem;
      border-radius: 0.5rem;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-weight: 600;
      font-size: 0.9375rem;
    }

    .sidebar-nav-item:hover {
      background: rgba(255, 255, 255, 0.1);
      color: white;
    }

    .sidebar-nav-item.active {
      background: rgba(255, 27, 141, 0.2);
      color: white;
    }

    .sidebar-footer {
      padding: 1rem 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      margin-top: 1rem;
    }

    .sidebar-footer-links {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .sidebar-footer-link {
      color: rgba(255, 255, 255, 0.5);
      text-decoration: none;
      font-size: 0.8125rem;
      transition: color 0.2s;
    }

    .sidebar-footer-link:hover {
      color: rgba(255, 255, 255, 0.8);
    }

    .sidebar-copyright {
      margin-top: 1rem;
      color: rgba(255, 255, 255, 0.3);
      font-size: 0.75rem;
    }

    /* „É°„Ç§„É≥„É©„ÉÉ„Éë„Éº */
    .main-wrapper {
      flex: 1;
      margin-left: 240px;
      min-height: 100vh;
      background: #f9fafb;
    }

    /* ÈÖç‰ø°ËÄÖ„ÇíÊé¢„Åô„Ç≥„É≥„ÉÜ„É≥„ÉÑ */
    .discover-content {
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
    }

    .discover-header {
      margin-bottom: 2rem;
    }

    .discover-title {
      font-size: 1.875rem;
      font-weight: 800;
      color: #2d1b3d;
      margin-bottom: 0.5rem;
    }

    .discover-description {
      color: #6b7280;
      font-size: 0.9375rem;
    }

    /* Ê§úÁ¥¢„Å®„Éï„Ç£„É´„Çø„Éº */
    .search-filter-section {
      background: white;
      border-radius: 1rem;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .search-box {
      position: relative;
      margin-bottom: 1rem;
    }

    .search-input {
      width: 100%;
      padding: 0.875rem 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 0.75rem;
      font-size: 0.9375rem;
      transition: all 0.2s;
    }

    .search-input:focus {
      outline: none;
      border-color: #FF1B8D;
      box-shadow: 0 0 0 3px rgba(255, 27, 141, 0.1);
    }

    .filter-buttons {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 0.625rem 1.25rem;
      border: 2px solid #e5e7eb;
      border-radius: 0.75rem;
      background: white;
      font-weight: 600;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s;
      color: #6b7280;
    }

    .filter-btn:hover {
      border-color: #FF1B8D;
      color: #FF1B8D;
    }

    .filter-btn.active {
      background: #FF1B8D;
      color: white;
      border-color: #FF1B8D;
    }

    /* ÈÖç‰ø°ËÄÖ„É™„Çπ„Éà */
    .creators-list {
      background: white;
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .creator-card {
      background: white;
      padding: 1rem;
      transition: all 0.2s;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 1rem;
      position: relative;
    }

    .creator-card:last-child {
      border-bottom: none;
    }

    .creator-card:hover {
      background: #f9fafb;
    }

    .creator-card-link {
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 1rem;
      flex: 1;
      text-decoration: none;
      cursor: pointer;
      min-width: 0;
    }

    .creator-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: linear-gradient(135deg, #FF1B8D, #00D4FF);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.25rem;
      font-weight: 800;
      color: white;
      flex-shrink: 0;
      position: relative;
    }

    .live-signal {
      position: absolute;
      top: -2px;
      right: -2px;
      width: 10px;
      height: 10px;
      background: #10b981;
      border: 2px solid white;
      border-radius: 50%;
      box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.3);
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.3);
      }
      50% {
        box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
      }
    }

    .creator-info {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .creator-name-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .creator-name {
      font-size: 0.9375rem;
      font-weight: 700;
      color: #2d1b3d;
    }

    .creator-id {
      font-size: 0.8125rem;
      color: #9ca3af;
      font-weight: 500;
    }

    .creator-bio {
      font-size: 0.875rem;
      color: #6b7280;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .creator-stats {
      display: flex;
      align-items: center;
      gap: 0.375rem;
      color: #9ca3af;
      font-size: 0.8125rem;
      margin-top: 0.25rem;
    }

    .follower-icon {
      width: 14px;
      height: 14px;
    }

    /* „Éï„Ç©„É≠„Éº„Éú„Çø„É≥ */
    .follow-button {
      padding: 0.375rem 0.875rem;
      border-radius: 9999px;
      border: 1px solid #FF1B8D;
      background: white;
      color: #FF1B8D;
      font-size: 0.8125rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      flex-shrink: 0;
    }

    .follow-button:hover {
      background: #fff5f9;
    }

    .follow-button.following {
      background: white;
      border-color: #d1d5db;
      color: #6b7280;
    }

    .follow-button.following span {
      visibility: visible;
      position: relative;
    }

    .follow-button.following:hover {
      background: #fef2f2;
      border-color: #ef4444;
      color: #ef4444;
    }

    .follow-button.following:hover span::before {
      content: '„Éï„Ç©„É≠„ÉºËß£Èô§';
      position: absolute;
    }

    .follow-button.following:hover span {
      visibility: hidden;
    }

    /* Á©∫„ÅÆÁä∂ÊÖã */
    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      color: #9ca3af;
      background: white;
      border-radius: 1rem;
    }

    .empty-state-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .empty-state-text {
      font-size: 0.9375rem;
    }

    .hidden {
      display: none;
    }

    /* „É¢„Éê„Ç§„É´„É°„Éã„É•„Éº„Éú„Çø„É≥ */
    .mobile-menu-button {
      display: none;
      position: fixed;
      top: 0.75rem;
      left: 0.75rem;
      z-index: 1001;
      width: 28px;
      height: 28px;
      background: rgba(45, 27, 61, 0.6);
      border: none;
      border-radius: 0.25rem;
      cursor: pointer;
      align-items: center;
      justify-content: center;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    }

    .mobile-menu-button svg {
      width: 16px;
      height: 16px;
      color: white;
    }

    .mobile-menu-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 99;
    }

    .mobile-menu-overlay.active {
      display: block;
    }

    .sidebar.mobile-active {
      transform: translateX(0);
    }

    /* „É¢„Éê„Ç§„É´ÂØæÂøú */
    @media (max-width: 768px) {
      body {
        display: block;
      }

      .mobile-menu-button {
        display: flex;
      }

      .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s;
      }

      .main-wrapper {
        margin-left: 0;
      }

      .discover-content {
        padding: 1rem;
        padding-top: 3.5rem;
      }

      .discover-title {
        font-size: 1.5rem;
      }

      .discover-description {
        font-size: 0.875rem;
      }

      .search-filter-section {
        padding: 1rem;
      }

      .creator-card {
        padding: 0.875rem 1rem;
        gap: 0.625rem;
      }

      .creator-card-link {
        gap: 0.625rem;
        padding-right: 5.5rem;
      }

      .creator-avatar {
        width: 36px;
        height: 36px;
        font-size: 0.875rem;
      }

      .creator-name {
        font-size: 0.8125rem;
      }

      .creator-id {
        font-size: 0.6875rem;
      }

      .creator-bio {
        font-size: 0.75rem;
      }

      .creator-stats {
        font-size: 0.75rem;
      }

      .follow-button {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        padding: 0.3125rem 0.625rem;
        font-size: 0.6875rem;
      }
    }
  </style>
</head>
<body>
  <!-- „É¢„Éê„Ç§„É´„É°„Éã„É•„Éº„Éú„Çø„É≥ -->
  <button class="mobile-menu-button" id="mobileMenuButton" onclick="toggleMobileMenu()">
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
  </button>

  <!-- „É¢„Éê„Ç§„É´„É°„Éã„É•„Éº„Ç™„Éº„Éê„Éº„É¨„Ç§ -->
  <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="closeMobileMenu()"></div>

  <!-- „Çµ„Ç§„Éâ„Éê„Éº -->
  <aside class="sidebar" id="sidebar">
    <a href="index.html" class="sidebar-logo">Pack&Play</a>
    <nav class="sidebar-nav" id="sidebarNav">
      <!-- JavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê -->
    </nav>

    <!-- „Çµ„Ç§„Éâ„Éê„Éº„Éï„ÉÉ„Çø„Éº -->
    <div class="sidebar-footer">
      <div class="sidebar-footer-links">
        <a href="legal/terms.html" class="sidebar-footer-link">Âà©Áî®Ë¶èÁ¥Ñ</a>
        <a href="legal/privacy.html" class="sidebar-footer-link">„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº</a>
        <a href="legal/contact.html" class="sidebar-footer-link">„ÅäÂïè„ÅÑÂêà„Çè„Åõ</a>
      </div>
      <div class="sidebar-copyright">¬© 2025 Pack&Play</div>
    </div>
  </aside>

  <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
  <div class="main-wrapper">
    <div class="discover-content">
      <!-- „Éò„ÉÉ„ÉÄ„Éº -->
      <div class="discover-header">
        <h1 class="discover-title">ÈÖç‰ø°ËÄÖ„ÇíÊé¢„Åô</h1>
        <p class="discover-description">„ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆÈÖç‰ø°ËÄÖ„ÇíË¶ã„Å§„Åë„Å¶„ÄÅ„Ç´„Éº„Éâ„Éë„ÉÉ„ÇØ„ÅßÂøúÊè¥„Åó„Çà„ÅÜ</p>
      </div>

      <!-- Ê§úÁ¥¢„Å®„Éï„Ç£„É´„Çø„Éº -->
      <div class="search-filter-section">
        <div class="search-box">
          <input
            type="search"
            id="searchInput"
            placeholder="ÈÖç‰ø°ËÄÖ„ÇíÊ§úÁ¥¢..."
            class="search-input"
          >
        </div>
        <div class="filter-buttons">
          <button class="filter-btn active" id="allBtn" onclick="showAll()">
            „Åô„Åπ„Å¶Ë°®Á§∫
          </button>
          <button class="filter-btn" id="liveBtn" onclick="filterLive()">
            ÈÖç‰ø°‰∏≠„ÅÆ„Åø
          </button>
        </div>
      </div>

      <!-- ÈÖç‰ø°ËÄÖ„É™„Çπ„Éà -->
      <div class="creators-list" id="creatorsList">
        <!-- JavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê -->
      </div>

      <div id="emptyState" class="empty-state hidden">
        <div class="empty-state-icon">üîç</div>
        <div class="empty-state-text">ÈÖç‰ø°ËÄÖ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü</div>
      </div>
    </div>
  </div>

  <script src="js/mock-data.js"></script>
  <script src="js/main.js"></script>
  <script>
    // DOM„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„Åã„ÇâÂÆüË°å
    document.addEventListener('DOMContentLoaded', function() {
      // „Çµ„Ç§„Éâ„Éê„Éº„ÅÆ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„ÇíÁîüÊàê
      renderSidebarNav('discover');

      // ÈÖç‰ø°ËÄÖ„ÇíË°®Á§∫
      let currentFilter = 'all';
      let searchQuery = '';

      function renderCreators() {
        const list = document.getElementById('creatorsList');
        const emptyState = document.getElementById('emptyState');

        // „Éï„Ç£„É´„Çø„É™„É≥„Ç∞
        let filtered = creators;

        if (currentFilter === 'live') {
          filtered = filtered.filter(c => c.isLive);
        }

        if (searchQuery) {
          filtered = filtered.filter(c =>
            c.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
            c.slug.toLowerCase().includes(searchQuery.toLowerCase())
          );
        }

        if (filtered.length === 0) {
          list.innerHTML = '';
          emptyState.classList.remove('hidden');
          return;
        }

        emptyState.classList.add('hidden');

        // „Éï„Ç©„É≠„ÉºÁä∂ÊÖã„ÇíÂèñÂæó
        const followedIds = getFollowedCreators();

        list.innerHTML = filtered.map(creator => {
          const isFollowing = followedIds.includes(creator.id);
          return `
            <div class="creator-card" id="creator-${creator.id}">
              <a href="creator/${creator.slug}.html" class="creator-card-link">
                <div class="creator-avatar">
                  ${creator.name.charAt(0)}
                  ${creator.isLive ? '<span class="live-signal"></span>' : ''}
                </div>
                <div class="creator-info">
                  <div class="creator-name-row">
                    <span class="creator-name">${creator.name}</span>
                    <span class="creator-id">@${creator.slug}</span>
                  </div>
                  <div class="creator-bio">${creator.bio || ''}</div>
                  <div class="creator-stats">
                    <img src="image/follower.png" alt="„Éï„Ç©„É≠„ÉØ„Éº" class="follower-icon">
                    <span>${(creator.followerCount || 0).toLocaleString()}‰∫∫</span>
                  </div>
                </div>
              </a>
              <button class="follow-button${isFollowing ? ' following' : ''}" onclick="toggleFollowButton(${creator.id}, event)">
                <span>${isFollowing ? '„Éï„Ç©„É≠„Éº‰∏≠' : '„Éï„Ç©„É≠„Éº„Åô„Çã'}</span>
              </button>
            </div>
          `;
        }).join('');
      }

      // „Éï„Ç©„É≠„Éº„Éú„Çø„É≥„ÅÆ„Éà„Ç∞„É´
      window.toggleFollowButton = function(creatorId, event) {
        event.preventDefault();
        event.stopPropagation();

        const creator = creators.find(c => c.id === creatorId);
        const creatorName = creator ? creator.name : 'ÈÖç‰ø°ËÄÖ';
        const followedIds = getFollowedCreators();
        const isFollowing = followedIds.includes(creatorId);

        if (isFollowing) {
          if (confirm(`${creatorName}„ÅÆ„Éï„Ç©„É≠„Éº„ÇíËß£Èô§„Åó„Åæ„Åô„ÅãÔºü`)) {
            toggleFollow(creatorId);
            showToast(`${creatorName}„ÅÆ„Éï„Ç©„É≠„Éº„ÇíËß£Èô§„Åó„Åæ„Åó„Åü`, 'success');
            updateButtonState(creatorId, false);
          }
        } else {
          toggleFollow(creatorId);
          showToast(`${creatorName}„Çí„Éï„Ç©„É≠„Éº„Åó„Åæ„Åó„Åü`, 'success');
          updateButtonState(creatorId, true);
        }
      };

      // „Éú„Çø„É≥„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
      function updateButtonState(creatorId, isFollowing) {
        const card = document.getElementById(`creator-${creatorId}`);
        if (card) {
          const button = card.querySelector('.follow-button');
          if (button) {
            if (isFollowing) {
              button.className = 'follow-button following';
              button.innerHTML = '<span>„Éï„Ç©„É≠„Éº‰∏≠</span>';
            } else {
              button.className = 'follow-button';
              button.innerHTML = '<span>„Éï„Ç©„É≠„Éº„Åô„Çã</span>';
            }
            button.blur();
          }
        }
      }

      // „Éï„Ç£„É´„Çø„Éº
      window.showAll = function() {
        currentFilter = 'all';
        document.getElementById('allBtn').classList.add('active');
        document.getElementById('liveBtn').classList.remove('active');
        renderCreators();
      };

      window.filterLive = function() {
        currentFilter = 'live';
        document.getElementById('liveBtn').classList.add('active');
        document.getElementById('allBtn').classList.remove('active');
        renderCreators();
      };

      // Ê§úÁ¥¢
      document.getElementById('searchInput').addEventListener('input', function(e) {
        searchQuery = e.target.value;
        renderCreators();
      });

      // ÂàùÊúüË°®Á§∫
      renderCreators();

      // „É¢„Éê„Ç§„É´„É°„Éã„É•„Éº
      window.toggleMobileMenu = function() {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('mobileMenuOverlay');
        sidebar.classList.toggle('mobile-active');
        overlay.classList.toggle('active');
      };

      window.closeMobileMenu = function() {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('mobileMenuOverlay');
        sidebar.classList.remove('mobile-active');
        overlay.classList.remove('active');
      };
    });
  </script>
</body>
</html>
