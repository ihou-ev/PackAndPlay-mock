<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#667eea">
  <meta name="description" content="é…ä¿¡è€…å°‚ç”¨ã‚«ãƒ¼ãƒ‰ãƒ‘ãƒƒã‚¯è²©å£²ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Pack&Play">
  <title>ãƒã‚¤ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« - Pack&Play</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/images/icon-192.png">
  <link rel="apple-touch-icon" href="assets/images/icon-192.png">
  <style>
    body {
      overflow-x: hidden;
      background: #f9fafb;
    }

    /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
    .profile-header {
      position: sticky;
      top: 0;
      z-index: 100;
      padding: 1.5rem 2rem;
      background: rgba(45, 27, 61, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .profile-header-container {
      max-width: 1280px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .profile-logo {
      font-size: 1.5rem;
      font-weight: 800;
      color: white;
      text-decoration: none;
      transition: transform 0.2s;
    }

    .profile-logo:hover {
      transform: scale(1.05);
      color: #FFD600;
    }

    .profile-nav {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    .profile-nav-link {
      color: white;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.9375rem;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      transition: all 0.2s;
      background: rgba(255, 255, 255, 0.1);
    }

    .profile-nav-link:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-1px);
      color: #FFD600;
    }

    /* ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .profile-hero {
      background-color: white;
      background-image: url('image/discover1.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      padding: 4rem 2rem 3rem;
      text-align: center;
      color: #2d1b3d;
    }

    .profile-hero-content {
      max-width: 800px;
      margin: 0 auto;
    }

    .profile-hero-title {
      font-size: 2.5rem;
      font-weight: 900;
      margin-bottom: 0.75rem;
      text-shadow: 0 2px 10px rgba(255, 255, 255, 0.8);
    }

    .profile-hero-description {
      font-size: 1.125rem;
      font-weight: 600;
      opacity: 0.9;
    }

    /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ */
    .profile-content {
      max-width: 1280px;
      margin: 0 auto;
      padding: 3rem 2rem;
    }

    .profile-grid {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 2rem;
      margin-bottom: 3rem;
    }

    /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰ */
    .profile-card {
      background: white;
      border-radius: 1rem;
      padding: 2rem;
      border: 2px solid #e5e7eb;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .profile-avatar-section {
      text-align: center;
      margin-bottom: 2rem;
    }

    .profile-avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: linear-gradient(135deg, #FF1B8D, #00D4FF);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      font-weight: 800;
      color: white;
      margin: 0 auto 1rem;
    }

    .profile-name {
      font-size: 1.5rem;
      font-weight: 800;
      color: #2d1b3d;
      margin-bottom: 0.5rem;
    }

    .profile-role {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      background: #ede9fe;
      color: #6b21a8;
      border-radius: 0.5rem;
      font-size: 0.875rem;
      font-weight: 700;
    }

    .profile-info {
      margin-top: 2rem;
    }

    .profile-info-item {
      padding: 1rem 0;
      border-bottom: 1px solid #e5e7eb;
    }

    .profile-info-item:last-child {
      border-bottom: none;
    }

    .profile-info-label {
      font-size: 0.875rem;
      color: #6b7280;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .profile-info-value {
      font-size: 1rem;
      color: #2d1b3d;
      font-weight: 700;
    }

    /* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ */
    .stats-section {
      margin-bottom: 3rem;
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: 800;
      color: #2d1b3d;
      margin-bottom: 1.5rem;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
    }

    .stat-card {
      background: white;
      border-radius: 1rem;
      padding: 1.5rem;
      border: 2px solid #e5e7eb;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      text-align: center;
      transition: all 0.3s;
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      border-color: #FF1B8D;
    }

    .stat-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      color: #6b7280;
      font-size: 0.875rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 800;
      color: #2d1b3d;
    }

    .stat-value.primary {
      color: #FF1B8D;
    }

    .stat-value.success {
      color: #10b981;
    }

    .stat-value.warning {
      color: #f59e0b;
    }

    /* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
    .action-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .action-btn {
      flex: 1;
      min-width: 200px;
      padding: 1rem 2rem;
      border-radius: 0.75rem;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
      border: none;
      text-align: center;
      text-decoration: none;
      display: inline-block;
    }

    .action-btn-primary {
      background: linear-gradient(135deg, #FF1B8D, #d946a6);
      color: white;
    }

    .action-btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(255, 27, 141, 0.3);
    }

    .action-btn-outline {
      background: white;
      color: #2d1b3d;
      border: 2px solid #e5e7eb;
    }

    .action-btn-outline:hover {
      background: #f9fafb;
      border-color: #FF1B8D;
      color: #FF1B8D;
    }

    /* è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .settings-section {
      background: white;
      border-radius: 1rem;
      padding: 2rem;
      border: 2px solid #e5e7eb;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .settings-item {
      padding: 1.5rem 0;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .settings-item:last-child {
      border-bottom: none;
    }

    .settings-info {
      flex: 1;
    }

    .settings-title {
      font-size: 1rem;
      font-weight: 700;
      color: #2d1b3d;
      margin-bottom: 0.25rem;
    }

    .settings-description {
      font-size: 0.875rem;
      color: #6b7280;
    }

    .settings-btn {
      padding: 0.75rem 1.5rem;
      background: white;
      color: #2d1b3d;
      border: 2px solid #e5e7eb;
      border-radius: 0.75rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
    }

    .settings-btn:hover {
      background: #f9fafb;
      border-color: #FF1B8D;
      color: #FF1B8D;
    }

    .settings-btn.danger {
      color: #ef4444;
      border-color: #fecaca;
    }

    .settings-btn.danger:hover {
      background: #fef2f2;
      border-color: #ef4444;
    }

    /* ãƒ•ãƒƒã‚¿ãƒ¼ */
    .footer {
      background: #2d1b3d;
      color: white;
      padding: 3rem 2rem 2rem;
      margin-top: 4rem;
    }

    .footer-content {
      max-width: 1280px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 3rem;
    }

    .footer-section {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .footer-title {
      font-size: 1.25rem;
      font-weight: 800;
      margin-bottom: 0.5rem;
    }

    .footer-description {
      font-size: 0.9375rem;
      opacity: 0.8;
      line-height: 1.6;
    }

    .footer-heading {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .footer-links {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .footer-links a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: color 0.2s;
      font-size: 0.9375rem;
    }

    .footer-links a:hover {
      color: #FFD600;
    }

    .footer-copyright {
      margin-top: 0.5rem;
      font-size: 0.875rem;
      opacity: 0.6;
    }

    /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
    @media (max-width: 768px) {
      .profile-hero {
        background-attachment: scroll;
        padding: 3rem 1.5rem 2rem;
      }

      .profile-hero-title {
        font-size: 2rem;
      }

      .profile-header {
        padding: 1rem 1.5rem;
      }

      .profile-logo {
        font-size: 1.25rem;
      }

      .profile-nav {
        gap: 0.5rem;
      }

      .profile-nav-link {
        font-size: 0.875rem;
        padding: 0.375rem 0.75rem;
      }

      .profile-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }

      .action-buttons {
        flex-direction: column;
      }

      .action-btn {
        width: 100%;
      }

      .settings-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      .settings-btn {
        width: 100%;
      }

      .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
    }
  </style>
</head>
<body>
  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <header class="profile-header">
    <div class="profile-header-container">
      <a href="index.html" class="profile-logo">Pack&Play</a>
      <nav class="profile-nav">
        <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
      </nav>
    </div>
  </header>

  <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section class="profile-hero">
    <div class="profile-hero-content">
      <h1 class="profile-hero-title">ãƒã‚¤ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h1>
      <p class="profile-hero-description">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã¨è¨­å®š</p>
    </div>
  </section>

  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  <main class="profile-content">
    <div class="profile-grid">
      <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰ -->
      <div class="profile-card">
        <div class="profile-avatar-section">
          <div class="profile-avatar" id="profileAvatar">?</div>
          <div class="profile-name" id="profileName">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</div>
          <span class="profile-role" id="profileRole">è¦–è´è€…</span>
        </div>

        <div class="profile-info">
          <div class="profile-info-item">
            <div class="profile-info-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</div>
            <div class="profile-info-value" id="profileEmail">-</div>
          </div>
          <div class="profile-info-item">
            <div class="profile-info-label">ãƒ­ã‚°ã‚¤ãƒ³æ–¹æ³•</div>
            <div class="profile-info-value" id="profileLoginMethod">-</div>
          </div>
          <div class="profile-info-item">
            <div class="profile-info-label">ç™»éŒ²æ—¥</div>
            <div class="profile-info-value" id="profileJoinDate">-</div>
          </div>
        </div>
      </div>

      <!-- çµ±è¨ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div>
        <h2 class="section-title">ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">ğŸ´</div>
            <div class="stat-label">æ‰€æŒã‚«ãƒ¼ãƒ‰æ•°</div>
            <div id="totalCards" class="stat-value primary">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">âœ¨</div>
            <div class="stat-label">ä½¿ç”¨æ¸ˆã¿ã‚«ãƒ¼ãƒ‰</div>
            <div id="usedCards" class="stat-value success">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ“¦</div>
            <div class="stat-label">è³¼å…¥ãƒ‘ãƒƒã‚¯æ•°</div>
            <div id="purchasedPacks" class="stat-value warning">0</div>
          </div>
        </div>

        <h2 class="section-title" style="margin-top: 2rem;">ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>
        <div class="action-buttons">
          <a href="inventory.html" class="action-btn action-btn-primary">ãƒã‚¤ã‚«ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹</a>
          <a href="discover.html" class="action-btn action-btn-outline">é…ä¿¡è€…ã‚’æ¢ã™</a>
        </div>
      </div>
    </div>

    <!-- è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="settings-section">
      <h2 class="section-title">è¨­å®š</h2>

      <div class="settings-item">
        <div class="settings-info">
          <div class="settings-title">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†</div>
          <div class="settings-description">è¡¨ç¤ºåã‚„ã‚¢ãƒã‚¿ãƒ¼ã‚’å¤‰æ›´</div>
        </div>
        <button class="settings-btn" onclick="showToast('ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™', 'info')">ç·¨é›†</button>
      </div>

      <div class="settings-item">
        <div class="settings-info">
          <div class="settings-title">é€šçŸ¥è¨­å®š</div>
          <div class="settings-description">ã‚«ãƒ¼ãƒ‰ä½¿ç”¨é€šçŸ¥ã‚„ãŠçŸ¥ã‚‰ã›ã®å—ä¿¡è¨­å®š</div>
        </div>
        <button class="settings-btn" onclick="showToast('é€šçŸ¥è¨­å®šæ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™', 'info')">è¨­å®š</button>
      </div>

      <div class="settings-item">
        <div class="settings-info">
          <div class="settings-title">è³¼å…¥å±¥æ­´</div>
          <div class="settings-description">ãƒ‘ãƒƒã‚¯è³¼å…¥å±¥æ­´ã‚’ç¢ºèª</div>
        </div>
        <button class="settings-btn" onclick="showToast('è³¼å…¥å±¥æ­´æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™', 'info')">ç¢ºèª</button>
      </div>

      <div class="settings-item">
        <div class="settings-info">
          <div class="settings-title">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤</div>
          <div class="settings-description">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å®Œå…¨ã«å‰Šé™¤ã—ã¾ã™</div>
        </div>
        <button class="settings-btn danger" onclick="confirmDeleteAccount()">å‰Šé™¤</button>
      </div>
    </div>
  </main>

  <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3 class="footer-title">Pack&Play</h3>
        <p class="footer-description">å¿œæ´ã‚’"æ¼”å‡º"ã«ã™ã‚‹ã€‚</p>
        <p class="footer-copyright">Â© 2025 Pack&Play. All rights reserved.</p>
      </div>
      <div class="footer-section">
        <h4 class="footer-heading">æ³•çš„æƒ…å ±</h4>
        <ul class="footer-links">
          <li><a href="legal/terms.html">åˆ©ç”¨è¦ç´„</a></li>
          <li><a href="legal/commerce.html">ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜</a></li>
          <li><a href="legal/privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
          <li><a href="legal/scta.html">è³‡é‡‘æ±ºæ¸ˆæ³•ã«åŸºã¥ãè¡¨ç¤º</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4 class="footer-heading">ã‚µãƒãƒ¼ãƒˆ</h4>
        <ul class="footer-links">
          <li><a href="legal/contact.html">ãŠå•ã„åˆã‚ã›</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <script src="js/mock-data.js"></script>
  <script src="js/main.js"></script>
  <script>
    // ãƒ­ã‚°ã‚¤ãƒ³ãƒã‚§ãƒƒã‚¯
    if (!requireLogin()) {
      // ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ãªå ´åˆã€requireLoginé–¢æ•°å†…ã§ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹
    }

    // ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–å¾—
    const session = getCurrentSession();

    // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’è¡¨ç¤º
    function renderProfile() {
      if (!session) return;

      // ã‚¢ãƒã‚¿ãƒ¼ï¼ˆåå‰ã®é ­æ–‡å­—ï¼‰
      const initial = session.name ? session.name.charAt(0) : '?';
      document.getElementById('profileAvatar').textContent = initial;

      // åå‰
      document.getElementById('profileName').textContent = session.name || 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å';

      // ãƒ­ãƒ¼ãƒ«
      const roleText = session.role === 'creator' ? 'é…ä¿¡è€…' : 'è¦–è´è€…';
      document.getElementById('profileRole').textContent = roleText;

      // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
      document.getElementById('profileEmail').textContent = session.email || '-';

      // ãƒ­ã‚°ã‚¤ãƒ³æ–¹æ³•
      document.getElementById('profileLoginMethod').textContent = session.loginPlatform || '-';

      // ç™»éŒ²æ—¥ï¼ˆãƒ­ã‚°ã‚¤ãƒ³æ—¥æ™‚ã‚’ä½¿ç”¨ï¼‰
      if (session.loginTime) {
        const date = new Date(session.loginTime);
        const formattedDate = date.toLocaleDateString('ja-JP', {
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        });
        document.getElementById('profileJoinDate').textContent = formattedDate;
      }
    }

    // çµ±è¨ˆæƒ…å ±ã‚’è¡¨ç¤º
    function renderStats() {
      // ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
      const inventory = loadFromStorage('inventory', []);

      // ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰
      let cards = inventory;
      if (cards.length === 0) {
        cards = [
          { id: 1, name: 'ã“ã‚“ã«ã¡ã¯', rarity: 'N', type: 'message', creatorName: 'ç”°ä¸­å¤ªéƒ', isUsed: false, acquiredAt: '2025-11-01' },
          { id: 2, name: 'ã„ã„ã­ï¼', rarity: 'R', type: 'action', creatorName: 'ç”°ä¸­å¤ªéƒ', isUsed: false, acquiredAt: '2025-11-01' },
          { id: 3, name: 'ãã‚‰ãã‚‰', rarity: 'SR', type: 'visual', creatorName: 'ç”°ä¸­å¤ªéƒ', isUsed: true, acquiredAt: '2025-11-01' },
          { id: 4, name: 'ãƒãƒ¼ãƒˆ', rarity: 'N', type: 'visual', creatorName: 'ã‚¢ãƒªã‚¹ã¡ã‚ƒã‚“ã­ã‚‹', isUsed: false, acquiredAt: '2025-11-02' },
          { id: 5, name: 'èŠ±ç«', rarity: 'SR', type: 'visual', creatorName: 'ç”°ä¸­å¤ªéƒ', isUsed: false, acquiredAt: '2025-11-03' },
          { id: 6, name: 'ã‚ã‚ŠãŒã¨ã†', rarity: 'R', type: 'message', creatorName: 'ã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼', isUsed: false, acquiredAt: '2025-11-03' },
          { id: 7, name: 'ãƒ¬ã‚¤ãƒ³ãƒœãƒ¼', rarity: 'UR', type: 'visual', creatorName: 'ç”°ä¸­å¤ªéƒ', isUsed: false, acquiredAt: '2025-11-04' },
          { id: 8, name: 'ã‚­ãƒ©ã‚­ãƒ©', rarity: 'R', type: 'visual', creatorName: 'ã‚¢ãƒªã‚¹ã¡ã‚ƒã‚“ã­ã‚‹', isUsed: false, acquiredAt: '2025-11-04' }
        ];
      }

      // çµ±è¨ˆæƒ…å ±ã‚’è¨ˆç®—
      document.getElementById('totalCards').textContent = cards.length;
      document.getElementById('usedCards').textContent = cards.filter(c => c.isUsed).length;

      // è³¼å…¥ãƒ‘ãƒƒã‚¯æ•°ï¼ˆã‚«ãƒ¼ãƒ‰ã®å–å¾—æ—¥ã§ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚«ã‚¦ãƒ³ãƒˆï¼‰
      const uniqueDates = [...new Set(cards.map(c => c.acquiredAt))];
      document.getElementById('purchasedPacks').textContent = uniqueDates.length;
    }

    // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ç¢ºèª
    function confirmDeleteAccount() {
      if (confirm('æœ¬å½“ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\nã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚')) {
        showLoading();
        setTimeout(() => {
          hideLoading();
          // ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
          localStorage.removeItem('session');
          localStorage.removeItem('inventory');
          showToast('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¾ã—ãŸ', 'success');
          setTimeout(() => {
            window.location.href = 'index.html';
          }, 1500);
        }, 1500);
      }
    }

    // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ
    function renderProfileNav() {
      const nav = document.querySelector('.profile-nav');

      if (!nav) return;

      if (isLoggedIn()) {
        const role = session.role;

        if (role === 'creator') {
          nav.innerHTML = `
            <a href="discover.html" class="profile-nav-link">é…ä¿¡è€…ã‚’æ¢ã™</a>
            <a href="dashboard/index.html" class="profile-nav-link">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
            <a href="javascript:void(0)" onclick="logout()" class="profile-nav-link">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
          `;
        } else {
          nav.innerHTML = `
            <a href="discover.html" class="profile-nav-link">é…ä¿¡è€…ã‚’æ¢ã™</a>
            <a href="inventory.html" class="profile-nav-link">ãƒã‚¤ã‚«ãƒ¼ãƒ‰</a>
            <a href="javascript:void(0)" onclick="logout()" class="profile-nav-link">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
          `;
        }
      } else {
        nav.innerHTML = `
          <a href="index.html" class="profile-nav-link">ãƒ­ã‚°ã‚¤ãƒ³</a>
        `;
      }
    }

    // åˆæœŸè¡¨ç¤º
    renderProfileNav();
    renderProfile();
    renderStats();
  </script>
</body>
</html>
